import { formatRichText } from "../../lib/utils";

export default function SlideCitation( {data} ) {

    const API_URL = import.meta.env.VITE_API_URL;
    const imageUrl = `${API_URL}/storage/${data?.slidable?.background?.background}`;
    const color = data?.slidable?.color_text;
    const locale = 'fr';

    return (
        <div className="h-screen w-full relative slide_citation z-1 slide">
            { imageUrl &&            
                <div className="absolute inset-0 blur-sm" style={{ background: `url(${imageUrl}) right / cover no-repeat` }}></div>
            }
            <div className="absolute inset-0 bg-black opacity-[0.5]"></div>

            <div className="relative top-[40px] z-10">
                <div className="container mx-auto h-[calc(100vh-40px)] overflow-scroll" style={{ color: color }}>
                    <div className="flex flex-col justify-center items-center overflow-scroll h-full pt-[20px] pb-[60px] lg:py-[40px] px-[20px] xl:px-0">
                        <svg className="shrink-0" width="32" height="33" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M30.302 3.52419C27.3415 8.31013 25.4694 13.1396 24.6857 18.0125C25.8177 18.2736 26.6449 18.5781 27.1673 18.9262C27.951 19.3613 28.6041 19.8399 29.1265 20.362C29.649 20.8841 30.0844 21.4497 30.4326 22.0588C30.7809 23.016 30.9551 24.1472 30.9551 25.4525C30.9551 27.4539 30.3891 29.1942 29.2571 30.6735C28.2122 32.0658 26.819 32.7619 25.0776 32.7619C22.9878 32.7619 21.1592 31.7177 19.5918 29.6293C18.5469 27.8019 18.0245 25.583 18.0245 22.9725C18.0245 22.2764 18.068 21.6237 18.1551 21.0146C18.2422 20.4055 18.3728 19.7529 18.5469 19.0567C18.7211 18.1866 18.8952 17.5339 19.0694 17.0988C19.5918 15.5325 20.2014 13.9662 20.898 12.3999C21.6816 10.8336 22.5524 9.31082 23.5102 7.83153C24.2939 6.61329 25.0775 5.52558 25.8612 4.56839C26.732 3.52419 27.6463 2.52349 28.6041 1.5663C28.9524 1.30525 29.2571 1.08771 29.5184 0.913675C29.8667 0.652627 30.215 0.391577 30.5633 0.130524C30.6503 0.130524 30.6939 0.130524 30.6939 0.130524C30.781 0.0435081 30.868 0 30.9551 0C31.6517 0 32 0.391576 32 1.17473C32 1.34876 31.9565 1.47929 31.8694 1.5663L30.302 3.52419ZM13.7143 1.5663C13.4531 1.91437 13.1918 2.26244 12.9306 2.61051C12.6694 2.87156 12.4517 3.17612 12.2775 3.52419C9.14286 8.13609 7.18367 12.9655 6.4 18.0125C7.4449 18.2736 8.31565 18.5781 9.01225 18.9262C10.4925 19.7094 11.5374 20.7536 12.1469 22.0588C12.3211 22.5809 12.4952 23.1465 12.6694 23.7556C12.8435 24.2778 12.9306 24.8434 12.9306 25.4525C12.9306 27.4539 12.3211 29.1942 11.102 30.6735C9.97007 32.0658 8.57687 32.7619 6.92245 32.7619C4.57143 32.7619 2.78639 31.7177 1.56735 29.6293C0.522449 27.8019 0 25.583 0 22.9725C0 21.6672 0.130612 20.362 0.391837 19.0567C0.565986 18.1866 0.740136 17.5339 0.914286 17.0988C1.43673 15.5325 2.04626 13.9662 2.74286 12.3999C3.52653 10.8336 4.39728 9.31082 5.3551 7.83153C6.7483 5.48207 8.44626 3.39366 10.449 1.5663C10.7973 1.30525 11.102 1.08771 11.3633 0.913675C11.7116 0.652627 12.0599 0.391577 12.4082 0.130524C12.4952 0.130524 12.5388 0.130524 12.5388 0.130524C12.5388 0.0435081 12.5823 0 12.6694 0C12.9306 0 13.1918 0.130524 13.4531 0.391572C13.7143 0.565609 13.8449 0.826661 13.8449 1.17473C13.8449 1.34876 13.8014 1.47929 13.7143 1.5663Z" fill={`${color}`}/>
                        </svg>

                        { (data?.slidable?.content && locale) &&
                            <div className="shrink-0 text-[16px] text-center lg:w-2/3 richeditor">{ formatRichText(data.slidable.content[locale])}</div>
                        }

                        <svg className="shrink-0" width="32" height="33" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1.69796 3.52419C4.6585 8.31013 6.53062 13.1396 7.31429 18.0125C6.18232 18.2736 5.3551 18.5781 4.83265 18.9262C4.04898 19.3613 3.39592 19.8399 2.87347 20.362C2.35102 20.8841 1.91565 21.4497 1.56735 22.0588C1.21905 23.016 1.0449 24.1472 1.0449 25.4525C1.0449 27.4539 1.61088 29.1942 2.74286 30.6735C3.78775 32.0658 5.18095 32.7619 6.92245 32.7619C9.01224 32.7619 10.8408 31.7177 12.4082 29.6293C13.4531 27.8019 13.9755 25.583 13.9755 22.9725C13.9755 22.2764 13.932 21.6237 13.8449 21.0146C13.7578 20.4055 13.6272 19.7529 13.4531 19.0567C13.2789 18.1866 13.1048 17.5339 12.9306 17.0988C12.4082 15.5325 11.7986 13.9662 11.102 12.3999C10.3184 10.8336 9.44762 9.31082 8.48979 7.83153C7.70612 6.61329 6.92245 5.52558 6.13878 4.56839C5.26803 3.52419 4.35374 2.52349 3.39592 1.5663C3.04762 1.30525 2.74286 1.08771 2.48163 0.913675C2.13333 0.652627 1.78503 0.391577 1.43673 0.130524C1.34966 0.130524 1.30613 0.130524 1.30613 0.130524C1.21905 0.0435081 1.13197 0 1.0449 0C0.348299 0 0 0.391576 0 1.17473C0 1.34876 0.0435371 1.47929 0.130613 1.5663L1.69796 3.52419ZM18.2857 1.5663C18.5469 1.91437 18.8082 2.26244 19.0694 2.61051C19.3306 2.87156 19.5483 3.17612 19.7225 3.52419C22.8571 8.13609 24.8163 12.9655 25.6 18.0125C24.5551 18.2736 23.6844 18.5781 22.9878 18.9262C21.5075 19.7094 20.4626 20.7536 19.8531 22.0588C19.6789 22.5809 19.5048 23.1465 19.3306 23.7556C19.1565 24.2778 19.0694 24.8434 19.0694 25.4525C19.0694 27.4539 19.6789 29.1942 20.898 30.6735C22.0299 32.0658 23.4231 32.7619 25.0776 32.7619C27.4286 32.7619 29.2136 31.7177 30.4327 29.6293C31.4776 27.8019 32 25.583 32 22.9725C32 21.6672 31.8694 20.362 31.6082 19.0567C31.434 18.1866 31.2599 17.5339 31.0857 17.0988C30.5633 15.5325 29.9537 13.9662 29.2571 12.3999C28.4735 10.8336 27.6027 9.31082 26.6449 7.83153C25.2517 5.48207 23.5537 3.39366 21.551 1.5663C21.2027 1.30525 20.898 1.08771 20.6367 0.913675C20.2884 0.652627 19.9401 0.391577 19.5918 0.130524C19.5048 0.130524 19.4612 0.130524 19.4612 0.130524C19.4612 0.0435081 19.4177 0 19.3306 0C19.0694 0 18.8082 0.130524 18.5469 0.391572C18.2857 0.565609 18.1551 0.826661 18.1551 1.17473C18.1551 1.34876 18.1986 1.47929 18.2857 1.5663Z" fill={`${color}`}/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    )
}